use xpto;

DROP TABLE IF EXISTS `transactions`;
DROP TABLE IF EXISTS `accounts`;

CREATE TABLE IF NOT EXISTS `accounts` (
    `id` VARCHAR(36) NOT NULL,
    `document_number` VARCHAR(11) NOT NULL UNIQUE,
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`)
)  DEFAULT CHARSET=UTF8;


CREATE TABLE IF NOT EXISTS `transactions` (
    `id` VARCHAR(36) NOT NULL,
    `account_id` VARCHAR(36) NOT NULL,
    `operation_type` ENUM('1', '2', '3', '4') NOT NULL,
    `amount` DECIMAL(13,2) NOT NULL,
    `created_at` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (`id`),
    FOREIGN KEY (`account_id`)
        REFERENCES accounts (`id`)
        ON DELETE CASCADE
)  DEFAULT CHARSET=UTF8;


INSERT INTO `accounts` VALUES ('3e0147b4-b777-4994-be9c-921361d8c06d','15548617052','2021-07-02 16:39:08'),('5fbf25ab-be79-4690-aa99-fa44c4166d12','72329550065','2021-07-02 16:38:22'),('770fb774-887e-43a3-823a-01194e309eaa','00776697030','2021-07-02 16:38:42'),('7c528294-37fb-46a9-8969-9374370c99b7','21751914003','2021-07-02 16:39:18'),('dad716a7-8d8e-4fc6-b143-fc06ecfb626e','27625811093','2021-07-02 16:39:26');

COMMIT;